<!-- templates/hconsulta.html -->

{% extends "base.html" %}


{% block customcss %}
    {{ super() }}
	<link href="{{ url_for('static', filename='css/tempusdominus-bootstrap-4.min.css') }}" rel="stylesheet">
	<link href="{{ url_for('static', filename='font-awesome/css/all.css') }}" rel="stylesheet">	
	<link href="{{ url_for('static', filename='css/tabla_estructura.css') }}" rel="stylesheet">
{% endblock %}


{% block content %}

<div class="container-fluid px-5 py-5">

	<h1 class="title">
	    {{datos_puente.tipo_activo}} {{ datos_puente.nombre.capitalize() }}
	</h1>
	<h4 class="subtitle">
	    {% if estado_monitoreo %}
	        Estado de monitoreo: {{estado_monitoreo.estado}} - {{estado_monitoreo.fecha_estado.strftime('%Y-%m-%d %H:%M:%S')}}
	    {% endif %}
	</h4>


	{% include 'botones_tabla_estructura.html' %}


	<div class="mt-3 mb-3 d-flex justify-content-center  ">

		<div class="panel panel-default">
		  <div class="panel-heading">
		    <h1 class="panel-title">Rango de horarios</h1>
		  </div>
		  <div class="panel-body">
			<table class="table table-bordered">
			  <thead>
			    <tr>
			      <th scope="col">AÃ±os</th>
			      <th scope="col">Bloque 1</th>
			      <th scope="col">Bloque 2</th>
			      <th scope="col">Bloque 3</th>
			      <th scope="col">Bloque 4</th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr>
			      <th scope="row">
			      	2020
			      </th>
			      <td>[7:00 - 9:00]</td>
			      <td>[12:00 - 15:00]</td>
			      <td>[23:00 -2:00]</td>
			      <td>[3:00 - 6:00]</td>
			    </tr>
			    <tr>
			      <th scope="row">
			      	2021
			      </th>
			      <td>Desconocido</td>
			      <td>Desconocido</td>
			      <td>Desconocido</td>
			      <td>Desconocido</td>
			    </tr>
			  </tbody>
			</table>
		  </div>
		</div>
	</div>

	<form>
		<div class="mt-5 mb-3 d-flex justify-content-center">
			<div class="form-check form-check-inline">
			  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="alm_prog" checked>
			  <label class="form-check-label" for="inlineRadio1">Almacenamiento Programado</label>
			</div>
			<div class="form-check form-check-inline">
			  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="event_inesp">
			  <label class="form-check-label" for="inlineRadio2">Eventos Inesperados</label>
			</div>
		</div>
		<div class = "hidediv">
			<div class="mt-3 mb-3 d-flex justify-content-center  ">
				<div class="form-check form-check-inline">
				  <input class="form-check-input" type="radio" name="inlineRadioOptions2" id="inlineRadio3" value="option3" checked>
				  <label class="form-check-label" for="inlineRadio3">Todo entre las fechas</label>
				</div>
				<div class="form-check form-check-inline">
				  <input class="form-check-input" type="radio" name="inlineRadioOptions2" id="inlineRadio4" value="option4">
				  <label class="form-check-label" for="inlineRadio4">Horas por dia</label>
				</div>
			</div>
		</div>

		<div class="d-flex justify-content-center  mb-3">

			<div class="mt-4 col-sm-1">
				<p class="text-center">Inicio</p>

			</div>
			<div class="col-sm-3">
				<p class="text-center">Fechas</p>
			    <div class="form-group mb-0">
			        <div class="input-group date" id="datetimepicker2" data-target-input="nearest">
			            <input type="text" class="form-control datetimepicker-input" data-target="#datetimepicker2"/>
			            <div class="input-group-append" data-target="#datetimepicker2" data-toggle="datetimepicker">
			                <div class="input-group-text"><i class="fa fa-calendar"></i></div>
			            </div>
			        </div>
			    </div>
			</div>

			<div class="col-sm-3">
				<p class="text-center">Horas</p>
			    <div class="form-group mb-0">
			        <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
			            <input type="text" class="form-control datetimepicker-input" data-target="#datetimepicker1"/>
			            <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
			                <div class="input-group-text"><i class="fa fa-clock"></i></div>
			            </div>
			        </div>
			    </div>
			</div>


		</div>



		<div class="d-flex justify-content-center  mb-3">
			<div class="mt-2 col-sm-1">
				<p class="text-center">Fin</p>

			</div>
			<div class="col-sm-3">
			    <div class="form-group mb-0">
			        <div class="input-group date" id="datetimepicker4" data-target-input="nearest">
			            <input type="text" class="form-control datetimepicker-input" data-target="#datetimepicker4"/>
			            <div class="input-group-append" data-target="#datetimepicker4" data-toggle="datetimepicker">
			                <div class="input-group-text"><i class="fa fa-calendar"></i></div>
			            </div>
			        </div>
			    </div>
			</div>

			<div class="col-sm-3">
			    <div class="form-group mb-0">
			        <div class="input-group date" id="datetimepicker3" data-target-input="nearest">
			            <input type="text" class="form-control datetimepicker-input" data-target="#datetimepicker3"/>
			            <div class="input-group-append" data-target="#datetimepicker3" data-toggle="datetimepicker">
			                <div class="input-group-text"><i class="fa fa-clock"></i></div>
			            </div>
			        </div>
			    </div>
			</div>

		</div>


		<div class="d-flex justify-content-center align-items-center  mb-3">
			<div class="col-sm-6">
				<fieldset disabled>
				<label for="disabledTextInput">Consulta actual [opcion 1: Todo entre las fechas]</label>
				<input type="text" id="disabledTextInput" class="form-control" placeholder="Todo entre [Fecha inicio + Hora inicio] y [Fecha fin + Hoora fin]">
				<label for="disabledTextInput">Consulta actual [opcion 2: Horas por dia]</label>
				<input type="text" id="disabledTextInput" class="form-control" placeholder="Desde el [Fecha inicio] hasta [Fecha fin] entre los horarios [Hora inicial] y [Hora fin]">
			</div>



		</div>

		<div class="d-flex justify-content-center align-items-center  mb-3">
			<div class="col-sm-1">
				<p class="text-center">Sensores</p>
			</div>


			<div class="ml-2 btn-group-vertical">
			  <button type="button" class="btn btn-info">Seleccionar <br> Todo/Ninguno</button>
			</div>

			<div class="ml-2 btn-group-vertical">
			  <button type="button" class="btn btn-primary">Canal x</button>
			  <button type="button" class="btn btn-primary">Canal y</button>
			  <button type="button" class="btn btn-primary">Canal z</button>
			</div>

			<div class="ml-2 mb-0 form-group">
			<select multiple class="form-control" id="exampleFormControlSelect2">
			  <option>Sensor 1 canal x</option>
			  <option>Sensor 1 canal y</option>
			  <option>Sensor 1 canal z</option>
			  <option>Sensor 2 canal x</option>
			  <option>Sensor 2 canal y</option>
	  		  <option>Sensor 2 canal z</option>

			</select>
			</div>
		</div>




		<div class="d-flex justify-content-center align-items-center  mb-3">
			<div class="col-sm-1">
				<p class="text-center">Consultas <br> (por sensor)</p>
			</div>


		<div class="form-check form-check-inline">
		  <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
		  <label class="form-check-label" for="inlineCheckbox1">Max</label>
		</div>
		<div class="form-check form-check-inline">
		  <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
		  <label class="form-check-label" for="inlineCheckbox2">Min</label>
		</div>
		<div class="form-check form-check-inline">
		  <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3">
		  <label class="form-check-label" for="inlineCheckbox3">Promedio</label>
		</div>


		</div>
		<div class="d-flex justify-content-center align-items-center  mb-3">
		<button type="submit" class="btn btn-primary">Consultar</button>
		</div>




			
	</form>



	<div class="mb-3 mt-5 ml-5 d-flex justify-content-left align-items-center  ">
		<p class="h4">Consultas disponibles</p>

	</div>


	<div class="mb-3 mt-5 ml-5 mr-5 d-flex justify-content-left align-items-center  ">

		<table class="table table-bordered">
		  <thead>
		    <tr>
		      <th scope="col">Fecha Consulta</th>
		      <th scope="col">Desde</th>
		      <th scope="col">Hasta</th>
		      <th scope="col">Detalles</th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr>
		      <th scope="row">03-08-2020 18:00</th>
		      <td>02-08-2020 11:00</td>
		      <td>03-08-2020 11:00</td>
		      <td class="pt-3 ">
		      	<a class="card-title text-primary m-0 d-flex align-items-center justify-content-between">
		      		<i class="fas fa-search"></i>
		      	</a>
		      </td>
		    </tr>
		    <tr>
		      <th scope="row">03-08-2020 19:00</th>
		      <td>01-08-2020 11:00</td>
		      <td>02-08-2020 11:00</td>
		      <td class="pt-3 ">
		      	<a class="card-title text-primary m-0 d-flex align-items-center justify-content-between">
		      		<i class="fas fa-search"></i>
		      	</a>
		      </td>
		    </tr>
		  </tbody>
		</table>
	</div>

</div>







{% endblock %}



{% block customjs%}
    {{ super() }}
	<script src="{{ url_for('static', filename='js/tempusdominus-bootstrap-4.min.js')}}"></script>

    <script type="text/javascript">

        $.fn.datetimepicker.Constructor.Default = $.extend({}, $.fn.datetimepicker.Constructor.Default, {
	            icons: {
	                time: 'far fa-clock',
	                date: 'far fa-calendar-alt',
	                up: 'fas fa-arrow-up',
	                down: 'fas fa-arrow-down',
	                previous: 'fas fa-chevron-left',
	                next: 'fas fa-chevron-right',
	                today: 'far fa-calendar-check',
	                clear: 'fas fa-trash',
	                close: 'fas fa-times'
	            } });

        $(function () {
            $('#datetimepicker4').datetimepicker({
                format: 'YYYY/MM/DD',
                useCurrent: false
            });
        });

                $(function () {
            $('#datetimepicker2').datetimepicker({
                format: 'YYYY/MM/DD',
                useCurrent: false
            });
        });

        $(function () {
            $('#datetimepicker3').datetimepicker({
                format: 'HH:mm',
            });
        });

                $(function () {
            $('#datetimepicker1').datetimepicker({
                format: 'HH:mm',
            });
        });



		$(function () {
		    $('#datetimepicker2').datetimepicker();
		    $('#datetimepicker4').datetimepicker({
		        useCurrent: false
		    });
		    $("#datetimepicker2").on("change.datetimepicker", function (e) {
		        $('#datetimepicker4').datetimepicker('minDate', e.date);
		    });
		    $("#datetimepicker4").on("change.datetimepicker", function (e) {
		        $('#datetimepicker2').datetimepicker('maxDate', e.date);
		    });
		});

				$(function () {
		    $('#datetimepicker1').datetimepicker();
		    $('#datetimepicker3').datetimepicker({
		        useCurrent: false
		    });
		    $("#datetimepicker1").on("change.datetimepicker", function (e) {
		        $('#datetimepicker3').datetimepicker('minDate', e.date);
		    });
		    $("#datetimepicker3").on("change.datetimepicker", function (e) {
		        $('#datetimepicker1').datetimepicker('maxDate', e.date);
		    });
		});


        $(document).ready(function() { 
            $('input[type="radio"]').click(function() { 
                var inputValue = $(this).attr("value"); 
 				var targetBox = $(".hidediv"); 

                if (inputValue == "alm_prog"){
                	$(targetBox).show();
                }
                else if (inputValue == "event_inesp"){
                	$(targetBox).hide();
                }


            }); 
        }); 


    </script>



{% endblock %}